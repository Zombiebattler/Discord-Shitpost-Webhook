import requests
import time

#====VARIABLES====#

webhook_url = 'YOUR_WEBHOOK_URL'

Timeout_in_seconds = 20

#====VARIABLES====#

def GetContent():

    x = requests.get("https://api.thedailyshitpost.net/random").json()
    y = requests.get("https://api.thedailyshitpost.net/quote/random").json()

    Text = y['quote']
    Video = x['url']

    print(Text + " >>> " + Video)
    Send(Text=Text, Video=Video)

def Send(Text, Video):
    message_content = f'{Text}  ||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​||||​|| {Video}'

    data = {
        'content': message_content
    }

    requests.post(webhook_url, data=data)

    seconds = Timeout_in_seconds

    while seconds > 0:
        print(f"New Shitpost in: {seconds}")
        time.sleep(1)
        seconds -= 1

    GetContent()

if __name__ == '__main__':
    GetContent()
